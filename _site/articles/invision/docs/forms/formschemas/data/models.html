<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Models | Profitbase Docs </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Models | Profitbase Docs ">
      
      <link rel="icon" href="../../../../../../images/favicon.ico">
      <link rel="stylesheet" href="../../../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../../../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
  </head>

  <script type="module">
    import options from './../../../../../../public/main.js'
    import { init } from './../../../../../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../../../index.html">
            <img id="logo" class="svg" src="../../../../../../images/logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">


<p>Models represent the data objects which are loaded from the database, displayed or modified by the user through the user interface, and then saved back to the database. A Form Schema can have many Models.</p>
<p>A (data) Model represents a single object instance, and contains one or more fields that are read from the database, either from a table, view or custom query. Each field can be data bound to form controls for displaying or modifying data. If you read the Model from a view or custom query, you need to provide a custom SQL expression to save changes back to the database.</p>
<p><strong>Example</strong></p>
<p>This example shows how to create a Model named <strong>Person</strong>, with <strong>FirstName</strong>, <strong>LastName</strong> and <strong>DoB</strong> fields. The Source specifies the table that the data is read from (it could have been an actual table name instead of the using the @Object directive). The Fields specify the columns that are read from the table and set as the Model Members. UI controls can data bind to the members of the Model.</p>
<p>The Filter property specifies the WHERE clause of the query.</p>
<pre><code class="lang-xml">&lt;Models&gt;
    &lt;Model Name=&quot;Person&quot; Source=&quot;@Object[Persons].DbObjectName&quot;
        Fields=&quot;FirstName, LastName, DoB&quot; Filter=&quot;ID = @ID&quot;&gt;
    &lt;/Model&gt;
&lt;/Models&gt;
</code></pre>
<hr>
<h3 id="model-properties">Model Properties:</h3>
<br>
<h4 id="name">Name</h4>
<p>The name of the model. <strong>Required</strong>.</p>
<br>
<h4 id="source">Source</h4>
<p>The database object to read from. Source can either be a View, Table or @Object[…].DbObjectName reference. <strong>Required unless LoadQuery is specified</strong>.</p>
<br>
<h4 id="fields">Fields</h4>
<p>Specifies the members of the Model, and the columns containing the data for the model. <strong>Required unless SaveQuery is specified</strong>.</p>
<br>
<h4 id="filter">Filter</h4>
<p>Specifies the WHERE clause of the automatically generated (load data) query from the <strong>Fields</strong> and <strong>Source</strong> properties. <strong>Optional</strong>.</p>
<br>
<h4 id="insertkey">InsertKey</h4>
<p>When a Model is saved, it will either do an Update or Insert, based on whether a row matching an id exists or not. The InsertKey is a comma separated list of tokens that specifies the mapping between parameters and key columns not already contained in the Fields property, that is required to insert a new row. The insert key must be on the form Column1 = @Param1, Column2 = @Param2, ...</p>
<br>
<p><strong>Example</strong></p>
<pre><code class="lang-xml">&lt;Model InsertKey =&quot;ProductID = @ProductID, Year = @Year&quot;/&gt;
</code></pre>
<br>
<h4 id="autoinsert">AutoInsert</h4>
<p>When saving Model data, and no custom SaveQuery is specified, InVision will do an update if a matching row already exist, or an Insert if no matching row exist. If, for some reason, you don’t want an insert to happen, you need to explicitly set this property to false.<strong>Optional</strong>. The default value is true.</p>
<br>
<h4 id="savequery">SaveQuery</h4>
<p>If data is not to be saved to the source table, or if you need to use a custom SQL to save the data correctly, you need to provide the query manually. <strong>Optional</strong>.</p>
<br>
<p><strong>Example</strong></p>
<pre><code class="lang-xml">&lt;Model&gt; &lt;SaveQuery&gt; UPDATE Table1 SET CustomerID = @CustomerID, etc &lt;/SaveQuery&gt; &lt;/Model&gt;
</code></pre>
<br>
<h4 id="loadquery">LoadQuery</h4>
<p>Use the load query if the model data cannot be loaded “as-is” from the source table. For example, if you need to pull in data from multiple tables, or if you need to apply transformation during load. <strong>Optional</strong>.</p>
<br>
<p><strong>Example</strong></p>
<pre><code class="lang-xml">&lt;Model&gt; &lt;LoadQuery&gt; SELECT CustomerID, CustomerName FROM  &lt;/LoadQuery&gt; &lt;/Model&gt;
</code></pre>
<br>
<h4 id="connectionstring">ConnectionString</h4>
<p>If the source table is not in the InVision database, you need to specify the connection string. <strong>Optional</strong>.</p>
<br>
<h4 id="videos">Videos</h4>
<ul>
<li><a href="../../../../videos/formschemas.html">Form Schemas</a></li>
<li><a href="https://profitbasedocs.blob.core.windows.net/videos/FormSchema-ModelsAndDatabinding-Basics.mp4">Models and Databinding - Basics</a></li>
</ul>
</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>