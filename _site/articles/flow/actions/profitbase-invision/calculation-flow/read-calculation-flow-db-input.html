<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Read Calculation Flow database input | Profitbase Docs </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Read Calculation Flow database input | Profitbase Docs ">
      
      <link rel="icon" href="../../../../../images/favicon.ico">
      <link rel="stylesheet" href="../../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../../toc.html">
      
      <meta name="docfx:rel" content="../../../../../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
  </head>

  <script type="module">
    import options from './../../../../../public/main.js'
    import { init } from './../../../../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../../index.html">
            <img id="logo" class="svg" src="../../../../../images/logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="read-calculation-flow-database-input">Read Calculation Flow database input</h1>

<p>Reads rows from an InVision database to be processed sequentially in a Calculation Flow.
If no <a href="table-relationship.html">Table</a> or <a href="parameter-relationship.html">Parameter relationships</a> are defined, all rows are processed.</p>
<h3 id="properties">Properties</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Row variable name</td>
<td>Required</td>
<td>The name of the variable that holds a reference to the row from the source table or query that is currently being processed. You don't need to change the default name, but best practices is to provide a meaningful name that makes it easier to understand what data the row represents. For example, if you are processing sales data, consider nameing the variable &quot;salesLine&quot;.</td>
</tr>
<tr>
<td>Connection</td>
<td>Required</td>
<td>A valid InVision Connection.</td>
</tr>
<tr>
<td>Source table</td>
<td>Required</td>
<td>The table or view to read data from.</td>
</tr>
<tr>
<td>Source columns</td>
<td>Optional</td>
<td>The columns to read from the Source table. If you don't specify anything, all columns are read from the source. Note this may add overhead if not all columns are needed, which will impact performance negatively.</td>
</tr>
<tr>
<td>Table relationships</td>
<td>Optional</td>
<td>The <a href="table-relationship.html">Table relationship</a> is used to slice the data set being processed. <br><br>When a Calculation Flow is executed, the calling context (for example InVision) may pass in a <a href="data-context.html">Data Context</a> which specifies the context of which the Flow is run. This is typically a selected filter item, for example a specific department or an account group, or a selection of items from multiple different filters.<br><br>Under the hoods, the <a href="table-relationship.html">Table relationships</a> along with the <a href="data-context.html">Data Context</a> creates a SQL JOIN that defines the data being processed.<br><br>If neither this nor the Parameter relationships property is defined, or the caller does not pass in a Data Context, all rows from the Source table is processed.</td>
</tr>
<tr>
<td>Parameter relationships</td>
<td>Optional</td>
<td>Just like the Table relationship, the <a href="parameter-relationship.html">Parameter relationship</a> is used to slice the data set being processed.<br><br> The difference between the <a href="table-relationship.html">Table relationship</a> and the <a href="parameter-relationship.html">Parameter relationship</a> is that parameters are a set of <em>standalone</em> values that can be used to slice the data set being processed.<br><br>Under the hoods, the Parameters relationships along with the Data Context creates a WHERE clause to slice the data being processed. If both Table and Parameter relationships are defined, and the Data Context contains data for both table and parameter contexts, both features are used to slice the data set being processed (SQL JOIN + WHERE clause).<br><br>If neither Parameter nor the Table relationships are defined, or the caller does not pass in a <a href="data-context.html">Data Context</a>, all rows from the Source table are processed.</td>
</tr>
<tr>
<td>Custom data context</td>
<td>Optional</td>
<td>If the caller does not pass in a <a href="data-context.html">Data Context</a>, you can create a Data Context programatically to slice the data set being processed. The example below demonstrates how to create a custom Data Context.</td>
</tr>
</tbody>
</table>
<h3 id="example">Example</h3>
<p>This example shows how to programatically create a custom <a href="data-context.html">Data Context</a> for a Calculation Flow.
The code is defined in a <a href="../../built-in/function.html">Function</a> action.</p>
<pre><code class="lang-csharp">// Creating our own DataContext to simulate that the call comes from InVision.
return new Profitbase.Flow.Extensions.Invision.CalculationFlow.CalculationFlowDataContext
{
    ReferenceTableDataContexts = new List&lt;Profitbase.Flow.Extensions.Invision.CalculationFlow.ReferenceTableDataContext&gt;
    {
        new Profitbase.Flow.Extensions.Invision.CalculationFlow.ReferenceTableDataContext(&quot;Account&quot;, &quot;AccountID&quot;, &quot;3&quot;),
        new Profitbase.Flow.Extensions.Invision.CalculationFlow.ReferenceTableDataContext(&quot;Account&quot;, &quot;AccountID&quot;, &quot;4&quot;),
        new Profitbase.Flow.Extensions.Invision.CalculationFlow.ReferenceTableDataContext(&quot;Account&quot;, &quot;AccountID&quot;, &quot;5&quot;),
        new Profitbase.Flow.Extensions.Invision.CalculationFlow.ReferenceTableDataContext(&quot;Account&quot;, &quot;AccountID&quot;, &quot;6&quot;),
        new Profitbase.Flow.Extensions.Invision.CalculationFlow.ReferenceTableDataContext(&quot;Account&quot;, &quot;AccountID&quot;, &quot;7&quot;),
        new Profitbase.Flow.Extensions.Invision.CalculationFlow.ReferenceTableDataContext(&quot;Account&quot;, &quot;AccountID&quot;, &quot;8&quot;),
    },
    Arguments = new List&lt;Profitbase.Flow.Extensions.Invision.CalculationFlow.DataContextArgument&gt;
    {
        new Profitbase.Flow.Extensions.Invision.CalculationFlow.DataContextArgument(&quot;OutputName&quot;, &quot;CalcTax&quot;)
    }
};
</code></pre></article>

        <div class="contribution d-print-none">
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>