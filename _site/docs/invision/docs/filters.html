<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Filters | Profitbase Docs </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Filters | Profitbase Docs ">
      
      <link rel="icon" href="../../../images/favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
  </head>

  <script type="module">
    import options from './../../../public/main.js'
    import { init } from './../../../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../images/logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">


<p>Filters are components used for setting the data context for Settings, <a href="worksheets.html">Worksheets</a>, <a href="sqlreports.html">Reports</a>, <a href="workflow.html">Workflows</a>, and <a href="dataflows/index.html">Data Flows</a>.</p>
<p>Once a Filter is defined, it can be used by all data context-aware components in a Solution by binding the Filter to a property of the component.</p>
<p>A Filter is defined as a reference to table resource (<a href="dimensions.html">Dimension</a>, Fact, Setting, <a href="datastores.html">Data Store</a>, or a <a href="views.html">View</a>) and by a configuration describing how to read data from the <a href="tables.html">table</a> resource.
<br></p>
<h3 id="creating-a-filter">Creating a Filter</h3>
<p>Filters are contained in <strong>Filter Collections</strong> and can be created from Data Stores, Settings, Dimensions, and Views. To create a Filter, you first need a Filter Container. Filter Containers are added to the Solution from the Solution Explorer and can contain any number of Filters.</p>
<p>To create a Filter, open a Filter Container and drag a table resource from the Toolbox to the All Filters list. When the filter is created, it is given a default name. You need to make sure that the name of the filter is unique within the Solution (filters).</p>
<p>When using a Dimension as the table resource, you can choose between &quot;Filter by Hierarchy&quot; a &quot;Filter by Column&quot; as the Filter Mode (see description below). Non-dimension table resources only allow the &quot;Filter By Column&quot; Filter Mode.
<br></p>
<p><img src="https://profitbasedocs.blob.core.windows.net/images/filterscreating.png" alt="Filter">
<br></p>
<h3 id="filter-properties">Filter Properties</h3>
<br>
<p><strong>Filter Name</strong></p>
<blockquote>
<p>When a filter is created, it is given a default name. You need to make sure that the name is unique within the Solution (filters).</p>
</blockquote>
<br>
<p><strong>Description</strong></p>
<blockquote>
<p>Description field for the filter. Only used for dev/doc purposes.</p>
</blockquote>
<br>
<p><strong>Filter Mode</strong></p>
<p><em>Filter by Hierarchy</em></p>
<blockquote>
<p>Only available for Dimension based filters. Specifies that the dimension hierarchy information is used to render the filter and to set the data context of the filter consumers (Worksheets, Reports, Settings, etc).</p>
</blockquote>
<p><em>Filter by Column</em></p>
<blockquote>
<p>Available for any filter type. Specifies that a specific column is used for setting the data context of the filter consumers. Using this mode, the filter cannot be rendered as a tree structure even though the underlying resource is a Dimension.</p>
</blockquote>
<p><em>Custom Text Search Index</em></p>
<blockquote>
<p>Enables text search when the filter rendering type is set to SearchBox in the Workbook filter configuration editor.<br>
When enabling this property, you need to specify the Text Search Column property. The Text Search Column of the table resource should contain the text used for matching the user search criteria.</p>
</blockquote>
<p><em>Data Id Column</em></p>
<blockquote>
<p>If the Filter Mode is Filter by Hierarchy, this property is automatically set and cannot be changed. When setting Filter Mode to <strong>Filter by Column</strong>, you need to specify which column in the table resource contains the values to filter by.</p>
</blockquote>
<p><em>Hierarchy</em></p>
<blockquote>
<p>Available only for Dimension based filters, this property specifies which hierarchy to use when rendering and setting the data context for consumers of the filter.</p>
</blockquote>
<p><em>Order</em></p>
<blockquote>
<p>Available for Dimension based filters. This property specifies whether to apply no sorting or sort by the id or display value.</p>
</blockquote>
<ul>
<li><p>None - No order is applied</p>
</li>
<li><p>Default – Uses the attribute sort type to determine whether to sort by Key or Name (display value)</p>
</li>
<li><p>OrderById – Orders by the dimension attribute key of the level</p>
</li>
<li><p>OrderByDescription – Orders by the dimension attribute display value of the level (takes the selected language into account)</p>
</li>
</ul>
<p><em>Description Column</em></p>
<blockquote>
<p>Available only if Filter Mode is set to <strong>Filter by Column</strong>, this property specifies which column from the table resource to display when rendering the filter items.<br>
If you enable <em>Localize Description</em>, InVision looks for a column named <code>&lt;description column&gt;_&lt;languagecode&gt;</code> (for example ProductID_Name_EN) and if found, will use the values from that column to display the filter items.</p>
</blockquote>
<p><em>Localize Description</em></p>
<blockquote>
<p>Available only if Filter Mode is set to Filter by Column, this property specifies that InVision should look for a column named <code>&lt;description column&gt;_&lt;languagecode&gt;</code> (for example ProductID_Name_EN) and if found, will use the values from that column to display the filter items.</p>
</blockquote>
<p><em>Text Search Column</em></p>
<blockquote>
<p>Available when the Custom Text Search Index is enabled, this property specifies the column of the table resource containing the text used for matching the user search criteria.</p>
</blockquote>
<p><em>Order By Clause</em></p>
<blockquote>
<p>A SQL expression used as the ORDER BY clause to order the filter items displayed to the user. This option is only available for Flat filters. You need to type the actual Order By expression, not only the column name, for example, ORDER BY ItemID.</p>
</blockquote>
<p><em>Slice Expression</em></p>
<blockquote>
<p>A SQL expression used in a WHERE clause to limit the filter items displayed to the user. If you use custom parameters in the slice expression, the following rules apply when the filter is used in a Workbook context:</p>
</blockquote>
<ol>
<li><p>You have to specify the parameter values in the LoadData action using the <a href="">SetParamValue(…)</a> function.</p>
</li>
<li><p>On subsequent filter record requests to the database, the values resolved in the LoadData action are resent, except when the SetFilterValue action is invoked.</p>
</li>
<li><p>If you use the SetFilterValue action, you need to specify the parameter values using the <a href="">SetParamValue(…)</a> function. Any values resolved during the LoadData action are ignored.</p>
</li>
<li><p>Auto Complete filters do not support custom parameters in the slice expression.</p>
</li>
</ol>
<p><em>Dynamic Slice Expressions</em></p>
<blockquote>
<p>Sometimes you need to apply different types of business logic based on which level in hierarchical filters are expanded, for example, you need to filter on different attributes/columns based on which level is being expanded.</p>
</blockquote>
<p>**@LoadLevel** – This system provided parameter specifies which level is being loaded (expanded)</p>
<blockquote>
<p><strong>Example</strong></p>
<p>The following Slice Expression applies a specific business logic for level 1</p>
</blockquote>
<pre><code>ProjectStatusID = CASE WHEN @LoadLevel = 1 THEN 'N' ELSE ProjectStatusID END
</code></pre>
<p><em>Default Value Expression</em></p>
<blockquote>
<p>A SQL snippet used in a WHERE clause to resolve the initially selected value of the filter when it’s rendered. If the Filter Mode is &quot;Filter by Hierarchy&quot; and there is a default member specified for the dimension as part of the Data Access permissions, the Data Access permission wins.</p>
</blockquote>
<br>
<h3 id="see-also">See Also</h3>
<ul>
<li><a href="filters/howto/index.html">How to's</a></li>
<li><a href="tables/filters.html">Filtering Tables</a></li>
<li><a href="worksheets/filters.html">Filtering Worksheets</a></li>
</ul>
<h3 id="videos">Videos</h3>
<ul>
<li><a href="../videos/filters.html">Filters</a></li>
<li><a href="https://profitbasedocs.blob.core.windows.net/videos/Filters%20-%20Creating%20and%20using%20flat%20filters.mp4">Creating and Using Flat Filters</a></li>
<li><a href="https://profitbasedocs.blob.core.windows.net/videos/Filter%20-%20Creating%20and%20using%20hierarchical%20filters.mp4">Creating and Using Hierarchical Filters</a></li>
<li><a href="https://profitbasedocs.blob.core.windows.net/videos/Filter-DefaultSelection%20and%20Slicing.mp4">Default Selection and Slicing</a></li>
</ul>
</article>


        <div class="next-article d-print-none border-top" id="nextArticle"></div>
        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>